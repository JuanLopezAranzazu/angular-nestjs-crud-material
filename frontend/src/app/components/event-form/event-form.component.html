<mat-card class="event-form-card">
  <mat-card-header>
    <mat-card-title>
      {{ initialData ? "Actualizar Evento" : "Crear Evento" }}
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="eventForm" (ngSubmit)="submitForm()" class="event-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Nombre</mat-label>
        <input
          matInput
          formControlName="name"
          placeholder="Ingresa el nombre"
        />
        <mat-error *ngIf="f['name'].hasError('required')"
          >El nombre es requerido</mat-error
        >
        <mat-error *ngIf="f['name'].hasError('minlength')"
          >El nombre debe tener al menos 3 caracteres</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descripción</mat-label>
        <textarea
          matInput
          formControlName="description"
          placeholder="Ingresa la descripción"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Fecha inicial</mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="startDate" />
        <mat-datepicker-toggle
          matSuffix
          [for]="picker1"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
        <mat-error *ngIf="f['startDate'].hasError('required')"
          >La fecha inicial es requerida</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Fecha final</mat-label>
        <input matInput [matDatepicker]="picker2" formControlName="endDate" />
        <mat-datepicker-toggle
          matSuffix
          [for]="picker2"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
        <mat-error *ngIf="f['endDate'].hasError('required')"
          >La fecha final es requerida</mat-error
        >
      </mat-form-field>

      <mat-error *ngIf="eventForm.errors?.['dateRangeInvalid']">
        La fecha final debe ser mayor que la inicial.</mat-error
      >

      <button
        mat-raised-button
        color="primary"
        class="full-width"
        [disabled]="loadingForm"
      >
        {{ initialData ? "Actualizar Evento" : "Nuevo Evento" }}
      </button>
    </form>
  </mat-card-content>
</mat-card>
